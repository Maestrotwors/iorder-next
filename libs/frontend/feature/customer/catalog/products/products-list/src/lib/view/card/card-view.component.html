<div class="table">
  @if (!productsStore.isLoading()) {
    @if (productsStore.products(); as products) {
      @for (product of products; let index = $index; track product.id) {
        <iorder-next-card-product-item
          [product]="product"
          (click)="selectProduct(product)"
          [@fadeIn]="{ value: '', params: { time: 330, delay: index < 20 ? index * 40 : 0 } }"
        >
        </iorder-next-card-product-item>
      } @empty {
        Empty list of products
      }
    }
  } @else {
    <div>loading....</div>
  }
</div>

<!--
<cdk-virtual-scroll-viewport itemSize="50" class="virtual-scroll-viewport">
  <div *cdkVirtualFor="let product of products; let index = index">
    <io-card-product-item
      [product]="product" (click)="selectProduct(product)"
      [@fadeIn]="{value: '', params: { time:330, delay:  index < 20 ? index * 40 : 0}}">
    </io-card-product-item>
  </div>
</cdk-virtual-scroll-viewport>

-->
